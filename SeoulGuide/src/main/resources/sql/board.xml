<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
						"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.board">

	<select id="selectBoardList" resultType ="com.seoul.guide.board.DTO.Article">
		<![CDATA[
			select*from board order by post_regdate desc
		 ]]>
	</select>
	
	<select id="selectBoard" resultType ="com.seoul.guide.board.DTO.Article" parameterType="Integer">
		<![CDATA[
			select*from board where post_id = #{post_id} 
		]]>
	</select>
	
	<insert id="insertBoard" parameterType="com.seoul.guide.board.DTO.Article">
		<![CDATA[
			insert into board(user_id, post_title, post_content) values(#{user_id},#{post_title},#{post_content})		
		]]>
	</insert>
	
	<update id="updateBoard" parameterType="java.util.Map">
	    <![CDATA[
	        update board set post_title = #{post_title}, post_content = #{post_content} where post_id = #{post_id}
	    ]]>
	</update>
	
	<delete id="deleteBoard" parameterType="Integer">
		 <![CDATA[
	        delete from board where post_id = #{post_id}
	    ]]>
	</delete>
	
	<select id="selectBoardListBySearch" resultType="com.seoul.guide.board.DTO.Article" parameterType="String">
        <![CDATA[
            SELECT * FROM board 
            WHERE post_title LIKE CONCAT('%', #{search}, '%') OR user_id LIKE CONCAT('%', #{search}, '%')
            ORDER BY post_regdate DESC
        ]]>
    </select>
    
</mapper>