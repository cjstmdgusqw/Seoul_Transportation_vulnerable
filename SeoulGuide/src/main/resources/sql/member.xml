<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MemberMapper">
	<insert id="memberAdd" parameterType="com.seoul.guide.member.DTO.MemberDTO">
		<![CDATA[
	     insert into member(nickname,username,email,password, phone1, phone2, phone3, birthday) values(#{nickname},#{username},#{email},#{password},#{phone1},#{phone2},#{phone3},#{birthday})
	     ]]>
	</insert>
	
	<select id = "memberselect" parameterType = "String" resultType = "com.seoul.guide.member.DTO.MemberDTO"> 
		<![CDATA[
	     	select * from member where email=#{email}
	     ]]>
	</select>
	
	<select id="nicknameCheck" parameterType="String" resultType="Integer">
		 <![CDATA[
	     	select count(*) from member where nickname = #{nickname}
	     ]]>
	</select>
	
	
	<!-- 여기서부터 마이페이지 -->
	 <select id = "selectMemberWithImg" parameterType="String" resultType="com.seoul.guide.member.DTO.MemberDTO">
		<![CDATA[
			select m.nickname, m.username, m.email, m.birthday, f.name
			from member m join filevo f
							on  m.userId = f.id where userId=#{userId}
	     ]]>
	 </select>
	
	
	

	

</mapper>